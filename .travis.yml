sudo: false
language: python
python:
  - "3.6"      # current default Python on Travis CI
  - "3.7"
  - "3.8"

env:
  global:
    - PACKAGE_NAME=ctwavelet

before_install:
  - export BUILD_VERSION=$(date "+%Y%m%d").$TRAVIS_BUILD_NUMBER
  - export PACKAGE_NAME_VERSION=$PACKAGE_NAME.$BUILD_VERSION

script:
  - python setup.py sdist bdist_wheel
  - pip install .
  - pip install pytest
  - pip install codecov
  - pytest tests/*
  - codecov
after_success:
  - codecov # submit coverage
deploy:
  provider: pypi
  user: "__token__"
  distributions: sdist bdist_wheel
  password:
    secure: "MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAx1uMBwYCptHUtCtIKS0N\neZbHhDAsAaqP0wtbbuRfVi9ANei6W8zAReF6MH9pmuRnfB4pSGy1wabyP9eGwq/3\nHyqdFfPszkf0sgwbC3iqH8+75ldEmfIg9XR51TDfx+xMuY0agQL5HGgP8yaqpHy3\noyz3nGdgdxIFpTqqaJXzj/YAEw7YzwMkPUWBzjHqmUlH1vq3pkA1bH6LlbZsc++b\noLMwesSk8wUz00JSrjgNw4dIPJLNAVoUMr/VZSbq4eCXdyiRGfrlorBmiy/OpDah\nt9JAgUOrrRmXxCCiqc2B6VMvFq7vO2MuVQGh4R7Drs3QMaT4XASpm+pwGBm+VkwH\npuFxv7l0ze2MjopmrN+BeTAWnJsIUJgtbHxUCBnh+pFcf5N4A3Si+D/hs2qJtg9m\nwGxFN5E00zg+V2S+JGYQ+0M3pzVT5t62A70dc9C9yOsYVssFk3P5SvIG1GXARduz\nw67XZdL3cVHhznDBvEUQI3KdX7GAuHYvqbsBIr6IrgJMRG5MoKJVbZG/e+V92b6F\n68x8GqwO91eFJnhRu6P1v9Hs1xxKGofZstoPscWtFHgCuhiTuZQuW9JiBovHGJHp\nx+vjjeyiqx8N9YuARmlOS9scHA63ISMxXH9YQPjidSUSiesFbKNtyuunqEH5WJU2\nyN4PdUJJgK9ppccDu0nOcR8CAwEAAQ=="
  skip_cleanup: true

notifications:
  email:
    - tahtaciburak@gmail.com


